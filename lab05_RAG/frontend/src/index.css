* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  overflow: hidden;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB',
    'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: #141414;
  color: #f0f0f0;
}

#root {
  height: 100vh;
  width: 100vw;
  overflow: hidden;
}

.app-container {
  height: 100vh;
  width: 100vw;
  display: flex;
  flex-direction: column;
  background-color: #141414;
  overflow: hidden;
}

.chat-container {
  flex: 1;
  overflow-y: auto;
  padding: 1vw;
  background: #1f1f1f;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  border: 1px solid #303030;
  min-height: 0;
}

.technical-details {
  background: #1f1f1f;
  border: 1px solid #303030;
  border-radius: 8px;
  padding: 16px;
  margin-top: 16px;
  color: #f0f0f0;
}

.search-result-item {
  border: 1px solid #404040;
  border-radius: 6px;
  padding: 12px;
  margin-bottom: 8px;
  background: #262626;
  color: #f0f0f0;
}

.search-result-content {
  color: #d9d9d9;
  line-height: 1.6;
  margin-bottom: 8px;
}

.search-result-meta {
  display: flex;
  gap: 12px;
  font-size: 12px;
  color: #8c8c8c;
}

.score-badge {
  background: #003a8c;
  border: 1px solid #1677ff;
  border-radius: 4px;
  padding: 2px 6px;
  font-weight: 500;
  color: #69c0ff;
}

/* 深色主題樣式 */
.dark-card {
  background: #1f1f1f !important;
  border: 1px solid #303030 !important;
}

.dark-card .ant-card-body {
  background: #1f1f1f;
  color: #d9d9d9;
}

/* 統一文字顏色體系 */
.text-primary {
  color: #ffffff !important;  /* 主要標題 - 純白 */
}

.text-secondary {
  color: #f0f0f0 !important;  /* 次要標題 - 亮白 */
}

.text-content {
  color: #d9d9d9 !important;  /* 正文內容 - 中等亮度 */
}

.text-auxiliary {
  color: #bfbfbf !important;  /* 輔助文字 - 較暗但清晰 */
}

.text-hint {
  color: #8c8c8c !important;  /* 提示文字 - 灰色 */
}

.text-accent {
  color: #69c0ff !important;  /* 強調文字 - 藍色 */
}

.text-success {
  color: #73d13d !important;  /* 成功文字 - 綠色 */
}

.text-warning {
  color: #faad14 !important;  /* 警告文字 - 橙色 */
}

.text-error {
  color: #ff4d4f !important;  /* 錯誤文字 - 紅色 */
}

/* 輸入框深色主題 */
.ant-input,
.ant-input-affix-wrapper {
  background-color: #262626 !important;
  border-color: #404040 !important;
  color: #d9d9d9 !important;
}

.ant-input::placeholder,
.ant-input-affix-wrapper input::placeholder {
  color: #8c8c8c !important;
}

.ant-input:focus,
.ant-input-affix-wrapper:focus,
.ant-input-affix-wrapper-focused {
  border-color: #1677ff !important;
  box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.2) !important;
}

/* 按鈕深色主題 */
.ant-btn-default {
  background-color: #262626 !important;
  border-color: #404040 !important;
  color: #d9d9d9 !important;
}

.ant-btn-default:hover {
  background-color: #404040 !important;
  border-color: #595959 !important;
  color: #ffffff !important;
}

.ant-btn-text {
  color: #d9d9d9 !important;
}

.ant-btn-text:hover {
  color: #ffffff !important;
  background-color: rgba(255, 255, 255, 0.04) !important;
}

.ant-btn-link {
  color: #69c0ff !important;
}

.ant-btn-link:hover {
  color: #91d5ff !important;
}

/* 禁用按鈕樣式優化 */
.ant-btn-primary[disabled],
.ant-btn-primary[disabled]:hover,
.ant-btn-primary[disabled]:focus,
.ant-btn-primary[disabled]:active {
  background-color: #262626 !important;
  border-color: #404040 !important;
  color: #8c8c8c !important;
  opacity: 1 !important;
  cursor: not-allowed !important;
}

.ant-btn-primary[disabled] .anticon {
  color: #8c8c8c !important;
}

/* 確保禁用狀態文字仍然可讀 */
.ant-btn[disabled] {
  color: #8c8c8c !important;
  opacity: 1 !important;
}

.ant-btn[disabled] .anticon {
  color: #8c8c8c !important;
}

/* 發送按鈕特殊樣式 */
.send-button {
  min-width: 80px !important;
  height: 40px !important;
  font-weight: 500 !important;
}

.send-button:not([disabled]) {
  background: linear-gradient(135deg, #1677ff, #1890ff) !important;
  border-color: #1677ff !important;
  color: #ffffff !important;
  box-shadow: 0 2px 4px rgba(22, 119, 255, 0.3) !important;
}

.send-button:not([disabled]):hover {
  background: linear-gradient(135deg, #4096ff, #40a9ff) !important;
  border-color: #4096ff !important;
  color: #ffffff !important;
  box-shadow: 0 4px 8px rgba(22, 119, 255, 0.4) !important;
  transform: translateY(-1px) !important;
  transition: all 0.2s ease !important;
}

.send-button[disabled] {
  background-color: #404040 !important;
  border-color: #595959 !important;
  color: #bfbfbf !important;
  opacity: 1 !important;
  box-shadow: none !important;
  cursor: not-allowed !important;
}

.send-button[disabled] .anticon {
  color: #bfbfbf !important;
}

.send-button[disabled]:hover {
  background-color: #404040 !important;
  border-color: #595959 !important;
  color: #bfbfbf !important;
  transform: none !important;
}

/* 側邊欄卡片深色主題 */
.ant-card {
  background: #262626 !important;
  border: 1px solid #404040 !important;
}

.ant-card-head {
  background: #262626 !important;
  border-bottom: 1px solid #404040 !important;
}

.ant-card-head-title {
  color: #ffffff !important;
}

.ant-card-body {
  color: #d9d9d9 !important;
}

/* 分隔線深色主題 */
.ant-divider {
  border-color: #404040 !important;
}

/* 標籤深色主題 */
.ant-tag {
  background: #262626 !important;
  border-color: #404040 !important;
  color: #d9d9d9 !important;
}

/* Typography 深色主題 */
.ant-typography {
  color: #d9d9d9 !important;
}

.ant-typography h1,
.ant-typography h2,
.ant-typography h3,
.ant-typography h4,
.ant-typography h5,
.ant-typography h6 {
  color: #ffffff !important;
}

.ant-typography p {
  color: #d9d9d9 !important;
}

/* 通知深色主題 */
.ant-message {
  color: #d9d9d9;
}

.ant-notification {
  background: #262626 !important;
  border: 1px solid #404040 !important;
  color: #d9d9d9 !important;
}

.ant-notification-notice-message {
  color: #ffffff !important;
}

.ant-notification-notice-description {
  color: #d9d9d9 !important;
}

/* Table 深色主題 */
.ant-table {
  background: #262626 !important;
  color: #d9d9d9 !important;
}

.ant-table-thead > tr > th {
  background: #1f1f1f !important;
  color: #ffffff !important;
  border-bottom: 1px solid #404040 !important;
}

.ant-table-tbody > tr > td {
  background: #262626 !important;
  color: #d9d9d9 !important;
  border-bottom: 1px solid #404040 !important;
}

.ant-table-tbody > tr:hover > td {
  background: #404040 !important;
}

/* Collapse 深色主題 */
.ant-collapse {
  background: #262626 !important;
  border: 1px solid #404040 !important;
}

.ant-collapse > .ant-collapse-item {
  border-bottom: 1px solid #404040 !important;
}

.ant-collapse-header {
  background: #1f1f1f !important;
  color: #ffffff !important;
}

.ant-collapse-content {
  background: #262626 !important;
  border-top: 1px solid #404040 !important;
}

.ant-collapse-content-box {
  color: #d9d9d9 !important;
}

/* Statistic 深色主題 */
.ant-statistic-title {
  color: #f0f0f0 !important;
}

.ant-statistic-content {
  color: #ffffff !important;
}

/* Progress 深色主題 */
.ant-progress-text {
  color: #d9d9d9 !important;
}

/* 滾動條深色主題 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #1f1f1f;
}

::-webkit-scrollbar-thumb {
  background: #404040;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #595959;
}

/* 響應式設計 */
@media (max-width: 768px) {
  .chat-container {
    padding: 2vw;
  }
  
  .ant-layout-sider {
    position: fixed !important;
    height: 100vh !important;
    z-index: 100 !important;
  }
  
  .ant-layout-sider.ant-layout-sider-collapsed {
    margin-left: -100% !important;
  }
}

@media (max-width: 1200px) {
  .app-container {
    font-size: 14px;
  }
}

@media (min-width: 1400px) {
  .app-container {
    font-size: 16px;
  }
}

/* 確保 Ant Design 組件適應全螢幕 */
.ant-layout {
  height: 100% !important;
}

.ant-layout-content {
  overflow: auto !important;
}

/* 移除 Ant Design 的預設邊距 */
.ant-layout-header {
  padding: 0 2vw !important;
}

.ant-card-body {
  padding: 1.5vw !important;
}

/* 響應式字體大小 */
.ant-typography h1 {
  font-size: clamp(1.5rem, 4vw, 2.5rem) !important;
}

.ant-typography h2 {
  font-size: clamp(1.3rem, 3vw, 2rem) !important;
}

.ant-typography h3 {
  font-size: clamp(1.1rem, 2.5vw, 1.75rem) !important;
}

.ant-typography h4 {
  font-size: clamp(1rem, 2vw, 1.5rem) !important;
}

/* 聊天內容卡片樣式 */
.chat-content-card .ant-card-body {
  height: 100% !important;
  padding: 16px !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
}

/* 輸入區域卡片樣式 */
.input-area-card .ant-card-body {
  padding: 16px !important;
}

/* Markdown 內容樣式修正 */
.chat-container ul,
.chat-container ol {
  margin: 8px 0 !important;
  padding-left: 24px !important;
  list-style-position: inside !important;
}

.chat-container li {
  margin: 4px 0 !important;
  padding-left: 0 !important;
  color: #d9d9d9 !important;
  line-height: 1.6 !important;
}

.chat-container ul li {
  list-style-type: disc !important;
}

.chat-container ol li {
  list-style-type: decimal !important;
}

/* 確保 Markdown 內容不會溢出 */
.chat-container div[style*="background: #262626"] {
  overflow-wrap: break-word !important;
  word-wrap: break-word !important;
}

.chat-container div[style*="background: #262626"] * {
  max-width: 100% !important;
}

/* Markdown 標題樣式 */
.chat-container h1,
.chat-container h2,
.chat-container h3,
.chat-container h4,
.chat-container h5,
.chat-container h6 {
  color: #ffffff !important;
  margin: 12px 0 8px 0 !important;
}

/* Markdown 段落樣式 */
.chat-container p {
  margin: 8px 0 !important;
  color: #d9d9d9 !important;
  line-height: 1.6 !important;
}

/* Markdown 代碼塊樣式 */
.chat-container pre,
.chat-container code {
  background: #1a1a1a !important;
  border: 1px solid #404040 !important;
  border-radius: 4px !important;
  color: #f0f0f0 !important;
}

.chat-container pre {
  padding: 12px !important;
  margin: 8px 0 !important;
  overflow-x: auto !important;
}

.chat-container code {
  padding: 2px 4px !important;
}